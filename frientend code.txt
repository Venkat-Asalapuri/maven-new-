<!DOCTYPE html>
<html>
<head>
    <title>Todo App</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        #todoList li { margin: 5px 0; }
        button { margin-left: 10px; }
    </style>
</head>
<body>

<h2>Simple Todo App</h2>

<input id="todoInput" type="text" placeholder="Enter todo..." />
<button onclick="addTodo()">Add</button>

<ul id="todoList"></ul>

<script>
    const API = "http://localhost:3000/todos";

    // Load todos
    async function loadTodos() {
        const res = await fetch(API);
        const todos = await res.json();
        const list = document.getElementById("todoList");
        list.innerHTML = "";

        todos.forEach(t => {
            const li = document.createElement("li");
            li.textContent = t.text;

            const del = document.createElement("button");
            del.textContent = "Delete";
            del.onclick = () => deleteTodo(t.id);

            li.appendChild(del);
            list.appendChild(li);
        });
    }

    // Add todo
    async function addTodo() {
        const text = document.getElementById("todoInput").value;
        if (!text) return alert("Enter a todo");

        await fetch(API, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ text })
        });

        document.getElementById("todoInput").value = "";
        loadTodos();
    }

    // Delete todo
    async function deleteTodo(id) {
        await fetch(`${API}/${id}`, { method: "DELETE" });
        loadTodos();
    }

    loadTodos();
</script>

</body>
</html>